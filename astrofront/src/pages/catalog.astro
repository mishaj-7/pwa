---
// src/pages/catalog.astro
import Layout from '../layouts/Layout.astro';
import ProductCard from '../components/ProuductCard.astro';

const response = await fetch(`${Astro.url.origin}/api/products`);
const { products } = await response.json();
---

<Layout title="Product Catalog">
  <main>
    <h1>Product Catalog</h1>
    <div class="product-grid">
      {products.map((product: any) => (
        <ProductCard {...product} />
      ))}
    </div>
  </main>
</Layout>

<style>
  .product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1rem;
  }
</style>